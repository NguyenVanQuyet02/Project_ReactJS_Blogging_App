{"version":3,"file":"static/js/682.f22e5472.chunk.js","mappings":"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","sources":["components/base/input/InputPasswordToggle.js","pages/AuthenticationPage.js","pages/SignUpPage.js"],"sourcesContent":["import React, { Fragment, useState } from 'react';\r\nimport Input from './Input';\r\nimport IconEyeOpen from '../icons/IconEyeOpen';\r\nimport IconEyeClose from '../icons/IconEyeClose';\r\n\r\nconst InputPasswordToggle = ({ control }) => {\r\n    const [togglePassword, setTogglePassword] = useState(false);\r\n    if (!control) return null;\r\n    return (\r\n        <Fragment>\r\n            <Input name='password'\r\n                type={togglePassword ? \"text\" : \"password\"}\r\n                placeholder=\"Enter your password\"\r\n                control={control}\r\n            >\r\n                {togglePassword ?\r\n                    <IconEyeOpen onClick={() => setTogglePassword(!togglePassword)} /> :\r\n                    <IconEyeClose onClick={() => setTogglePassword(!togglePassword)} />}\r\n            </Input>\r\n        </Fragment>\r\n    );\r\n};\r\n\r\nexport default InputPasswordToggle;","import React from 'react';\r\nimport { NavLink } from 'react-router-dom';\r\nimport styled from 'styled-components';\r\n\r\nconst AuthenticationPageStyles = styled.div`\r\n    min-height: 100vh;\r\n    padding: 40px;\r\n    .logo{\r\n        margin: 0 auto 20px;\r\n    }\r\n    .heading{\r\n        text-align: center;\r\n        color: ${props => props.theme.primary};;\r\n        font-weight: bold;\r\n        font-size: 40;\r\n        margin-bottom: 24px;\r\n    }\r\n    .form{\r\n        max-width: 500px;\r\n        margin: 0 auto;\r\n    }\r\n    .have-account{\r\n        margin-top: 14px;\r\n        margin-bottom: 10;\r\n        a{\r\n            display: inline-block;\r\n            color: ${props => props.theme.primary};\r\n            font-weight: 500;\r\n        }\r\n    }\r\n`;\r\nconst AuthenticationPage = ({ children }) => {\r\n    return (\r\n        <AuthenticationPageStyles>\r\n            <div className='container'>\r\n                <NavLink to='/'>\r\n                    <img srcSet='./logo.png 3x' alt='logo' className='logo' />\r\n                    <h1 className='heading'>Blogging App</h1>\r\n                </NavLink>\r\n                {children}\r\n            </div>\r\n        </AuthenticationPageStyles>\r\n    );\r\n};\r\n\r\nexport default AuthenticationPage;","import React, { useEffect } from 'react';\r\nimport { Button, Field, Input, Label } from '../components';\r\nimport { useForm } from 'react-hook-form'\r\nimport { yupResolver } from '@hookform/resolvers/yup';\r\nimport * as yup from \"yup\";\r\nimport { toast } from 'react-toastify';\r\nimport { createUserWithEmailAndPassword, updateProfile } from 'firebase/auth'\r\nimport { doc, serverTimestamp, setDoc } from 'firebase/firestore'\r\nimport { db, auth } from '../firebase/firebase-config';\r\nimport { NavLink, useNavigate } from 'react-router-dom'\r\nimport AuthenticationPage from './AuthenticationPage';\r\nimport InputPasswordToggle from '../components/base/input/InputPasswordToggle';\r\nimport slugify from 'slugify';\r\nimport { userRole, userStatus } from '../utils/constants';\r\n\r\nconst schema = yup.object({\r\n    fullname: yup.string().required(\"Please enter your fullname!\"),\r\n    email: yup.string().email().required(\"Please enter your email!\"),\r\n    password: yup.string().min(8, \"Your password must be at least 8 characters\").required(\"Please enter your password!\"),\r\n}).required();\r\n\r\nconst SignUpPage = () => {\r\n    const navigate = useNavigate();\r\n    const {\r\n        control,\r\n        handleSubmit,\r\n        formState: { errors, isValid, isSubmitting },\r\n    } = useForm({\r\n        mode: \"onChange\",\r\n        resolver: yupResolver(schema)\r\n    });\r\n    const handleSignUp = async (values) => {\r\n        if (!isValid) return;\r\n        await createUserWithEmailAndPassword(auth, values.email, values.password);\r\n        await updateProfile(auth.currentUser, {\r\n            displayName: values.fullname,\r\n            photoURL: \"https://images.unsplash.com/photo-1472491235688-bdc81a63246e?ixlib=rb-4.0.3&ixid=M3wxMjA3fDB8MHxwaG90by1wYWdlfHx8fGVufDB8fHx8fA%3D%3D&auto=format&fit=crop&w=1470&q=80\",\r\n\r\n        })\r\n        //set id thủ công user có cùng id ở authen và db\r\n        await setDoc(doc(db, \"users\", auth.currentUser.uid), {\r\n            fullname: values.fullname,\r\n            email: values.email,\r\n            password: values.password,\r\n            username: slugify(values.fullname, { lower: true }),\r\n            avatar: \"https://images.unsplash.com/photo-1472491235688-bdc81a63246e?ixlib=rb-4.0.3&ixid=M3wxMjA3fDB8MHxwaG90by1wYWdlfHx8fGVufDB8fHx8fA%3D%3D&auto=format&fit=crop&w=1470&q=80\",\r\n            status: userStatus.ACTIVE,\r\n            role: userRole.USER,\r\n            createdAt: serverTimestamp()\r\n        })\r\n        toast.success(\"Register successfully!!!\");\r\n        navigate(\"/\");\r\n    }\r\n    // handing errors\r\n    useEffect(() => {\r\n        document.title = \"Register page\"\r\n        const arrErrors = Object.values(errors)\r\n        if (arrErrors.length > 0) {\r\n            toast.error(arrErrors[0]?.message, {\r\n                pauseOnHover: false,\r\n            })\r\n        }\r\n    }, [errors])\r\n    return (\r\n        <AuthenticationPage>\r\n            <form className='form' onSubmit={handleSubmit(handleSignUp)} autoComplete='off'>\r\n                <Field>\r\n                    <Label htmlFor='fullname'>Fullname</Label>\r\n                    <Input name='fullname'\r\n                        type='text'\r\n                        placeholder=\"Enter your fullname\"\r\n                        control={control}\r\n                    />\r\n                </Field>\r\n                <Field>\r\n                    <Label htmlFor='email'>Email</Label>\r\n                    <Input name='email'\r\n                        type='email'\r\n                        placeholder=\"Enter your email\"\r\n                        control={control}\r\n                    />\r\n                </Field>\r\n                <Field>\r\n                    <Label htmlFor='password'>Password</Label>\r\n                    <InputPasswordToggle control={control}></InputPasswordToggle>\r\n                </Field>\r\n\r\n                <Button\r\n                    type='submit'\r\n                    isLoading={isSubmitting}\r\n                    disabled={isSubmitting}\r\n                >\r\n                    Sign Up\r\n                </Button>\r\n                <div className='have-account'>\r\n                    <p>You already have an account? <NavLink to={\"/sign-in\"}>Login.</NavLink></p>\r\n                </div>\r\n            </form>\r\n        </AuthenticationPage>\r\n    );\r\n};\r\n\r\nexport default SignUpPage;"],"names":["_ref","control","_useState","useState","_useState2","_slicedToArray","togglePassword","setTogglePassword","_jsx","Fragment","children","Input","name","type","placeholder","IconEyeOpen","onClick","IconEyeClose","AuthenticationPageStyles","styled","div","_templateObject","_taggedTemplateLiteral","props","theme","primary","_jsxs","className","NavLink","to","srcSet","alt","schema","yup","fullname","required","email","password","min","navigate","useNavigate","_useForm","useForm","mode","resolver","yupResolver","handleSubmit","_useForm$formState","formState","errors","isValid","isSubmitting","useEffect","document","title","_arrErrors$","arrErrors","Object","values","length","toast","error","message","pauseOnHover","AuthenticationPage","onSubmit","_x","_asyncToGenerator","_regeneratorRuntime","mark","_callee","wrap","_context","prev","next","abrupt","createUserWithEmailAndPassword","auth","updateProfile","currentUser","displayName","photoURL","setDoc","doc","db","uid","username","slugify","lower","avatar","status","userStatus","ACTIVE","role","userRole","USER","createdAt","serverTimestamp","success","stop","apply","arguments","autoComplete","Field","Label","htmlFor","InputPasswordToggle","Button","isLoading","disabled"],"sourceRoot":""}