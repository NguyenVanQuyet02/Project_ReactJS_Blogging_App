"use strict";(self.webpackChunkreact_monkey_blogging_boilerplate=self.webpackChunkreact_monkey_blogging_boilerplate||[]).push([[685,791],{8887:function(e,n,t){t.r(n);var r,a=t(4165),s=t(1413),i=t(5861),o=t(9439),l=t(168),c=t(2791),d=t(1775),u=t(5853),m=t(1134),h=t(6444),p=t(333),f=t.n(p),x=t(3585),g=t(2481),v=t(648),j=t(6562),b=t(9808),Z=t(577),y=t(4695),w=t(1724),N=t(6770),k=t.n(N),I=t(5179),E=t(4569),_=t.n(E),S=t(4169),D=t(184);N.Quill.register("modules/imageUploader",I.Z);var A=w.Ry({title:w.Z_().required("Title of the post is a required field!!!"),slug:w.Z_(),image_name:w.Z_().required("Image of the post is a required field!!!")}).required(),P=h.ZP.div(r||(r=(0,l.Z)([""])));n.default=function(){var e,n,t=(0,m.cI)({mode:"onChange",defaultValues:{title:"",slug:"",content:"",status:+x.cf.PENDING,category:{},hot:!1,image:"",user:{}},resolver:(0,y.X)(A)}),r=t.control,l=t.watch,h=t.setValue,p=t.handleSubmit,w=t.getValues,N=t.reset,I=t.formState,E=I.errors,C=(I.isValid,I.isSubmitting),O=(0,b.a)().userInfo,R=(0,c.useState)([]),L=(0,o.Z)(R,2),J=L[0],V=L[1],q=(0,c.useState)(""),T=(0,o.Z)(q,2),U=T[0],M=T[1],F=(0,c.useState)(""),z=(0,o.Z)(F,2),B=z[0],G=z[1],H=l("status"),Q=l("hot");(0,c.useEffect)((function(){var e,n=Object.values(E);n.length>0&&Z.Am.error(null===(e=n[0])||void 0===e?void 0:e.message,{pauseOnHover:!1})}),[E]),(0,c.useEffect)((function(){var e;O.email&&function(){(e=e||(0,i.Z)((0,a.Z)().mark((function e(){var n;return(0,a.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=(0,g.IO)((0,g.hJ)(v.db,"users"),(0,g.ar)("email","==",O.email)),e.next=3,(0,g.PL)(n);case 3:e.sent.forEach((function(e){h("user",(0,s.Z)({id:e.id},e.data()))}));case 5:case"end":return e.stop()}}),e)})))).apply(this,arguments)}()}),[null===O||void 0===O?void 0:O.email]);var Y=(0,j.M)(h,w),X=Y.image,W=Y.handleResetImage,K=Y.progress,$=Y.handleSelectImage,ee=Y.handleDeleteImage;(0,c.useEffect)((function(){var e;document.title="Blogging App - Add new post",function(){(e=e||(0,i.Z)((0,a.Z)().mark((function e(){var n,t,r,i;return(0,a.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=(0,g.hJ)(v.db,"categories"),t=(0,g.IO)(n,(0,g.ar)("status","==",1)),e.next=4,(0,g.PL)(t);case 4:r=e.sent,i=[],r.forEach((function(e){i.push((0,s.Z)({id:e.id},e.data()))})),V(i);case 8:case"end":return e.stop()}}),e)})))).apply(this,arguments)}()}),[]);var ne=(0,c.useMemo)((function(){var e;return{toolbar:[["bold","italic","underline","strike"],["blockquote"],[{header:1},{header:2}],[{list:"ordered"},{list:"bullet"}],[{header:[1,2,3,4,5,6,!1]}],["link","image"]],imageUploader:{upload:function(n){return(e=e||(0,i.Z)((0,a.Z)().mark((function e(n){var t,r;return(0,a.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return console.log("upload: ~ file",n),t=new FormData,console.log("upload: ~ bodyFormData",t),t.append("image",n),e.next=6,_()({method:"post",url:S.f,data:t,headers:{"Content-Type":"multipart/form-data"}});case 6:return r=e.sent,e.abrupt("return",r.data.data.url);case 8:case"end":return e.stop()}}),e)})))).apply(this,arguments)}}}}),[]);return(0,D.jsxs)(P,{children:[(0,D.jsx)("h1",{className:"dashboard-heading",children:"Write new post"}),(0,D.jsxs)("form",{onSubmit:p((function(n){return(e=e||(0,i.Z)((0,a.Z)().mark((function e(n){var t;return(0,a.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,n.slug=f()(n.slug||n.title,{lower:!0}),n.status=+n.status,t=(0,g.hJ)(v.db,"posts"),e.next=6,(0,g.ET)(t,(0,s.Z)((0,s.Z)({},n),{},{image:X,content:B,createdAt:(0,g.Bt)()}));case 6:Z.Am.success("Create new post successfully!!!"),N({title:"",slug:"",content:"",status:+x.cf.PENDING,category:{},hot:!1,image:"",user:{}}),W(),M({}),console.log(n),e.next=17;break;case 13:e.prev=13,e.t0=e.catch(0),Z.Am.error("Create post failed!!!"),console.log(e.t0);case 17:case"end":return e.stop()}}),e,null,[[0,13]])})))).apply(this,arguments)})),children:[(0,D.jsxs)("div",{className:"grid grid-cols-2 gap-x-10 mb-2",children:[(0,D.jsxs)(d.gN,{children:[(0,D.jsx)(d.__,{children:"Title"}),(0,D.jsx)(d.II,{control:r,placeholder:"Enter your title",name:"title"})]}),(0,D.jsxs)(d.gN,{children:[(0,D.jsx)(d.__,{children:"Slug"}),(0,D.jsx)(d.II,{control:r,placeholder:"Enter your slug",name:"slug"})]})]}),(0,D.jsxs)("div",{className:"grid grid-cols-2 gap-x-10 mb-2",children:[(0,D.jsxs)(d.gN,{children:[(0,D.jsx)(d.__,{children:"Image"}),(0,D.jsx)(d.Ur,{name:"image",onChange:$,progress:K,image:X,handleDeleteImage:ee})]}),(0,D.jsxs)("div",{className:"flex flex-col gap-y-8",children:[+(null===O||void 0===O?void 0:O.role)===x.xZ.ADMIN&&(0,D.jsxs)(d.gN,{children:[(0,D.jsx)(d.__,{children:"Status"}),(0,D.jsxs)("div",{className:"flex items-center gap-x-5",children:[(0,D.jsx)(d.Y8,{name:"status",control:r,checked:+H===x.cf.APPROVED,value:x.cf.APPROVED,children:"Approved"}),(0,D.jsx)(d.Y8,{name:"status",control:r,checked:+H===x.cf.PENDING,value:x.cf.PENDING,children:"Pending"}),(0,D.jsx)(d.Y8,{name:"status",control:r,checked:+H===x.cf.REJECTED,value:x.cf.REJECTED,children:"Reject"})]})]}),(0,D.jsxs)("div",{className:"flex justify-between items-center",children:[+(null===O||void 0===O?void 0:O.role)===x.xZ.ADMIN&&(0,D.jsxs)(d.gN,{children:[(0,D.jsx)(d.__,{children:"Feature post"}),(0,D.jsx)(d.ZD,{on:!0===Q,onClick:function(){return h("hot",!Q)}})]}),(0,D.jsx)(d.gN,{children:(0,D.jsxs)("div",{className:"w-[300px]",children:[(0,D.jsx)(d.__,{className:"mb-2 inline-block",children:"Category"}),(0,D.jsxs)(u.L,{children:[(0,D.jsx)(u.L.Select,{placeholder:"".concat((null===U||void 0===U?void 0:U.name)||"Select category")}),(0,D.jsx)(u.L.List,{children:(null===J||void 0===J?void 0:J.length)>0&&J.map((function(e){return(0,D.jsx)(u.L.Option,{onClick:function(){return function(e){return(n=n||(0,i.Z)((0,a.Z)().mark((function e(n){var t,r;return(0,a.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=(0,g.JU)(v.db,"categories",n.id),e.next=3,(0,g.QT)(t);case 3:r=e.sent,h("category",(0,s.Z)({id:r.id},r.data())),M(n);case 6:case"end":return e.stop()}}),e)})))).apply(this,arguments)}(e)},children:e.name},e.id)}))})]})]})})]})]})]}),(0,D.jsxs)(d.gN,{children:[(0,D.jsx)(d.__,{children:"Content"}),(0,D.jsx)("div",{className:"w-full entry-content",children:(0,D.jsx)(k(),{modules:ne,theme:"snow",value:B,onChange:G})})]}),(0,D.jsx)(d.zx,{type:"submit",className:"mx-auto mt-10",isLoading:C,disabled:C,children:"Add new post"})]})]})}},6280:function(e,n,t){var r,a=t(168),s=(t(2791),t(6444)),i=t(9482),o=t(2178),l=t(933),c=t(232),d=t(333),u=t.n(d),m=t(184),h=s.ZP.div(r||(r=(0,a.Z)(["\n  display: flex;\n  flex-direction: column;\n  align-items: flex-start;\n  .post {\n    &-image {\n      height: 202px;\n      margin-bottom: 20px;\n      display: block;\n      width: 100%;\n      border-radius: 16px;\n    }\n    &-category {\n      margin-bottom: 16px;\n    }\n    &-title {\n      margin-bottom: 8px;\n    }\n  }\n"])));n.Z=function(e){var n,t,r,a,s,d=e.data,p=void 0===d?{}:d;if(!p)return null;var f=null!==p&&void 0!==p&&null!==(n=p.createdAt)&&void 0!==n&&n.seconds?new Date(1e3*(null===p||void 0===p||null===(t=p.createdAt)||void 0===t?void 0:t.seconds)):new Date,x=new Date(f).toLocaleDateString("vi-VI");return(0,m.jsxs)(h,{children:[(0,m.jsx)(c.Z,{to:null===p||void 0===p?void 0:p.slug,url:p.image}),(null===p||void 0===p||null===(r=p.category)||void 0===r?void 0:r.name)&&(0,m.jsx)(i.Z,{to:null===p||void 0===p?void 0:p.category.slug,children:null===p||void 0===p?void 0:p.category.name}),(0,m.jsx)(o.Z,{to:null===p||void 0===p?void 0:p.slug,children:p.title}),(0,m.jsx)(l.Z,{to:u()((null===p||void 0===p||null===(a=p.user)||void 0===a?void 0:a.username)||"",{lower:!0}),authorName:null===p||void 0===p||null===(s=p.user)||void 0===s?void 0:s.fullname,date:x})]})}},1968:function(e,n,t){t.r(n);var r=t(1413),a=t(4165),s=t(5861),i=t(9439),o=t(2791),l=t(1134),c=t(1087),d=t(1775),u=t(5853),m=t(3585),h=t(577),p=t(2481),f=t(648),x=t(6562),g=t(6770),v=t.n(g),j=(t(6009),t(5179)),b=t(4569),Z=t.n(b),y=t(4169),w=t(333),N=t.n(w),k=t(4695),I=t(1724),E=t(9808),_=t(184);g.Quill.register("modules/imageUploader",j.Z);var S=I.Ry({title:I.Z_().required("Title of the post is a required field!!!"),slug:I.Z_(),image_name:I.Z_().required("Image of the post is a required field!!!")}).required();n.default=function(){var e,n,t,g=(0,c.lr)(),j=(0,i.Z)(g,1)[0].get("id"),b=(0,E.a)().userInfo,w=(0,o.useState)({}),I=(0,i.Z)(w,2),D=I[0],A=I[1],P=(0,o.useState)([]),C=(0,i.Z)(P,2),O=C[0],R=C[1],L=(0,o.useState)(""),J=(0,i.Z)(L,2),V=J[0],q=J[1],T=(0,l.cI)({mode:"onChange",resolver:(0,k.X)(S)}),U=T.control,M=T.watch,F=T.reset,z=T.setValue,B=T.getValues,G=T.handleSubmit,H=T.formState,Q=H.errors,Y=H.isValid,X=H.isSubmitting,W=M("hot"),K=M("status");(0,o.useEffect)((function(){var e,n=null===Object||void 0===Object?void 0:Object.values(Q);(null===n||void 0===n?void 0:n.length)>0&&h.Am.error(null===(e=n[0])||void 0===e?void 0:e.message,{pauseOnHover:!1})}),[Q]),(0,o.useEffect)((function(){var e;!function(){(e=e||(0,s.Z)((0,a.Z)().mark((function e(){var n,t,r;return(0,a.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=(0,p.JU)(f.db,"posts",j),e.next=3,(0,p.QT)(n);case 3:(t=e.sent).data()&&(F(t.data()),A((null===(r=t.data())||void 0===r?void 0:r.category)||""),q(t.data().content));case 5:case"end":return e.stop()}}),e)})))).apply(this,arguments)}()}),[j,F]);var $=B("image_name"),ee=B("image"),ne=(0,x.M)(z,B,$,(function(){return(e=e||(0,s.Z)((0,a.Z)().mark((function e(){var n;return(0,a.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=(0,p.JU)(f.db,"posts",j),e.next=3,(0,p.r7)(n,{image:""});case 3:case"end":return e.stop()}}),e)})))).apply(this,arguments)})),te=ne.image,re=ne.progress,ae=ne.setImage,se=ne.handleSelectImage,ie=ne.handleDeleteImage;(0,o.useEffect)((function(){ae(ee)}),[ee,ae]),(0,o.useEffect)((function(){var e;!function(){(e=e||(0,s.Z)((0,a.Z)().mark((function e(){var n,t,s,i;return(0,a.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=(0,p.hJ)(f.db,"categories"),t=(0,p.IO)(n,(0,p.ar)("status","==",+m.bk.APPROVED)),e.next=4,(0,p.PL)(t);case 4:s=e.sent,i=[],s.forEach((function(e){i.push((0,r.Z)({id:e.id},e.data()))})),R(i);case 8:case"end":return e.stop()}}),e)})))).apply(this,arguments)}()}),[]);var oe=(0,o.useMemo)((function(){var e;return{toolbar:[["bold","italic","underline","strike"],["blockquote"],[{header:1},{header:2}],[{list:"ordered"},{list:"bullet"}],[{header:[1,2,3,4,5,6,!1]}],["link","image"]],imageUploader:{upload:function(n){return(e=e||(0,s.Z)((0,a.Z)().mark((function e(n){var t,r;return(0,a.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return console.log("upload: ~ file",n),t=new FormData,console.log("upload: ~ bodyFormData",t),t.append("image",n),e.next=6,Z()({method:"post",url:y.f,data:t,headers:{"Content-Type":"multipart/form-data"}});case 6:return r=e.sent,e.abrupt("return",r.data.data.url);case 8:case"end":return e.stop()}}),e)})))).apply(this,arguments)}}}}),[]);return j?(0,_.jsxs)("div",{children:[(0,_.jsx)("h1",{className:"dashboard-heading",children:"Update post"}),(0,_.jsxs)("form",{onSubmit:G((function(e){return(n=n||(0,s.Z)((0,a.Z)().mark((function e(n){var t;return(0,a.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(Y){e.next=2;break}return e.abrupt("return");case 2:return n.status=+n.status,n.slug=N()(n.slug||n.title,{lower:!0}),e.prev=4,t=(0,p.JU)(f.db,"posts",j),e.next=8,(0,p.r7)(t,(0,r.Z)((0,r.Z)({},n),{},{image:te,content:V}));case 8:h.Am.success("Update post successfully!!!"),e.next=14;break;case 11:e.prev=11,e.t0=e.catch(4),h.Am.error("Update post failed!!!");case 14:case"end":return e.stop()}}),e,null,[[4,11]])})))).apply(this,arguments)})),children:[(0,_.jsxs)("div",{className:"grid grid-cols-2 gap-x-10 mb-2",children:[(0,_.jsxs)(d.gN,{children:[(0,_.jsx)(d.__,{children:"Title"}),(0,_.jsx)(d.II,{control:U,placeholder:"Enter your title",name:"title"})]}),(0,_.jsxs)(d.gN,{children:[(0,_.jsx)(d.__,{children:"Slug"}),(0,_.jsx)(d.II,{control:U,placeholder:"Enter your slug",name:"slug"})]})]}),(0,_.jsxs)("div",{className:"grid grid-cols-2 gap-x-10 mb-2",children:[(0,_.jsxs)(d.gN,{children:[(0,_.jsx)(d.__,{children:"Image"}),(0,_.jsx)(d.Ur,{name:"image",image:te,progress:re,handleDeleteImage:ie,onChange:se})]}),(0,_.jsxs)("div",{className:"flex flex-col gap-y-8",children:[+(null===b||void 0===b?void 0:b.role)===m.xZ.ADMIN&&(0,_.jsxs)(d.gN,{children:[(0,_.jsx)(d.__,{children:"Status"}),(0,_.jsxs)("div",{className:"flex items-center gap-x-5",children:[(0,_.jsx)(d.Y8,{name:"status",control:U,checked:+K===m.cf.APPROVED,value:m.cf.APPROVED,children:"Approved"}),(0,_.jsx)(d.Y8,{name:"status",control:U,checked:+K===m.cf.PENDING,value:m.cf.PENDING,children:"Pending"}),(0,_.jsx)(d.Y8,{name:"status",control:U,checked:+K===m.cf.REJECTED,value:m.cf.REJECTED,children:"Reject"})]})]}),(0,_.jsxs)("div",{className:"flex justify-between items-center",children:[+(null===b||void 0===b?void 0:b.role)===m.xZ.ADMIN&&(0,_.jsxs)(d.gN,{children:[(0,_.jsx)(d.__,{children:"Feature post"}),(0,_.jsx)(d.ZD,{on:!0===W,onClick:function(){return z("hot",!W)}})]}),(0,_.jsx)(d.gN,{children:(0,_.jsxs)("div",{className:"w-[300px]",children:[(0,_.jsx)(d.__,{className:"mb-2 inline-block",children:"Category"}),(0,_.jsxs)(u.L,{children:[(0,_.jsx)(u.L.Select,{placeholder:"".concat((null===D||void 0===D?void 0:D.name)||"Select category")}),(0,_.jsx)(u.L.List,{children:(null===O||void 0===O?void 0:O.length)>0&&O.map((function(e){return(0,_.jsx)(u.L.Option,{onClick:function(){return function(e){return(t=t||(0,s.Z)((0,a.Z)().mark((function e(n){var t,s;return(0,a.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=(0,p.JU)(f.db,"categories",n.id),e.next=3,(0,p.QT)(t);case 3:s=e.sent,z("category",(0,r.Z)({id:s.id},s.data())),A(n);case 6:case"end":return e.stop()}}),e)})))).apply(this,arguments)}(e)},children:e.name},e.id)}))})]})]})})]})]})]}),(0,_.jsxs)(d.gN,{children:[(0,_.jsx)(d.__,{children:"Content"}),(0,_.jsx)("div",{className:"w-full entry-content",children:(0,_.jsx)(v(),{modules:oe,theme:"snow",value:V,onChange:q})})]}),(0,_.jsx)(d.zx,{type:"submit",className:"mx-auto mt-10",isLoading:X,disabled:X,children:"Update post"})]})]}):null}},4169:function(e,n,t){t.d(n,{f:function(){return r}});var r="https://api.imgbb.com/1/upload?key=847d3f36b4a2687a994fac840e419dbf"},6562:function(e,n,t){t.d(n,{M:function(){return i}});var r=t(9439),a=t(276),s=t(2791);function i(e,n){var t=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null,i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:null,o=(0,s.useState)(""),l=(0,r.Z)(o,2),c=l[0],d=l[1],u=(0,s.useState)(0),m=(0,r.Z)(u,2),h=m[0],p=m[1],f=(0,a.cF)();if(e&&n){var x=function(){d(null),p(0)};return{image:c,progress:h,setImage:d,handleResetImage:x,handleSelectImage:function(n){var t=n.target.files[0];t&&(e("image_name",t.name),function(e){var n=(0,a.iH)(f,"images/"+e.name),t=(0,a.B0)(n,e);t.on("state_changed",(function(e){var n=e.bytesTransferred/e.totalBytes*100;p(n)}),(function(e){console.log("ERROR: ",e)}),(function(){(0,a.Jt)(t.snapshot.ref).then((function(e){d(e)}))}))}(t))},handleDeleteImage:function(){var e=(0,a.iH)(f,"images/"+t||0);(0,a.oq)(e).then((function(){x(),i&&i()})).catch((function(e){console.log("Can not delete image: ",e)}))}}}}},6791:function(e,n,t){t.r(n);var r,a=t(168),s=(t(2791),t(1087)),i=t(6444),o=t(184),l=i.ZP.div(r||(r=(0,a.Z)(["\n    height: 100vh;\n    display: flex;\n    align-items: center;\n    justify-content: center;\n    flex-direction: column;\n    row-gap: 40px;\n    .logo{\n        display: inline-block;\n    }\n    .heading{\n        font-size: 30px;\n        font-weight: 600;\n    }\n    .btn-back{\n        display: inline-block;\n        color: #fff;\n        border-radius: 8px;\n        padding: 15px 30px;\n        cursor: pointer;\n        background-color: ",";\n        font-weight: 500;\n    }\n"])),(function(e){return e.theme.primary}));n.default=function(){return(0,o.jsxs)(l,{children:[(0,o.jsx)(s.OL,{to:"/",className:"logo",children:(0,o.jsx)("img",{srcSet:"/logo.png 2x",alt:"logo"})}),(0,o.jsx)("h1",{className:"heading",children:"Oops! Page not found!"}),(0,o.jsx)(s.OL,{to:"/",className:"btn-back",children:"Back to Home"})]})}},8685:function(e,n,t){t.r(n),t.d(n,{default:function(){return G}});var r,a,s,i,o,l=t(4165),c=t(5861),d=t(9439),u=t(168),m=t(6444),h=t(2791),p=t(3540),f=t(6791),x=t(7689),g=(t(8887),t(9482)),v=(t(7273),t(232)),j=t(6280),b=(t(7075),t(933)),Z=(t(3058),t(4120),t(2178),t(1968),t(1413)),y=t(1053),w=t(7683),N=(t(2040),t(2481)),k=t(648),I=t(184),E=function(e){var n=e.categoryId,t=void 0===n?"":n,r=(0,h.useState)([]),a=(0,d.Z)(r,2),s=a[0],i=a[1];return(0,h.useEffect)((function(){var e=(0,N.IO)((0,N.hJ)(k.db,"posts"),(0,N.ar)("categoryId","==",t));(0,N.cf)(e,(function(e){var n=[];e.forEach((function(e){n.push((0,Z.Z)({id:e.id},e.data()))})),i(n)}))}),[t]),!t||s.length<=0?null:(0,I.jsxs)("div",{className:"post-related",children:[(0,I.jsx)(y.Z,{children:"B\xe0i vi\u1ebft li\xean quan"}),(0,I.jsx)("div",{className:"grid-layout grid-layout--primary",children:(null===s||void 0===s?void 0:s.length)>0&&s.map((function(e){return(0,I.jsx)(j.Z,{data:e},e.id)}))})]})},_=function(e){var n=e.userId,t=void 0===n?"":n,r=(0,h.useState)({}),a=(0,d.Z)(r,2),s=a[0],i=a[1];return(0,h.useEffect)((function(){var e;!function(){(e=e||(0,c.Z)((0,l.Z)().mark((function e(){var n,r;return(0,l.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=(0,N.JU)(k.db,"users",t),e.next=3,(0,N.QT)(n);case 3:(r=e.sent).data()&&i(r.data());case 5:case"end":return e.stop()}}),e)})))).apply(this,arguments)}()}),[t]),t?(0,I.jsxs)("div",{className:"author",children:[(0,I.jsx)("div",{className:"author-image",children:(0,I.jsx)("img",{src:null===s||void 0===s?void 0:s.avatar,alt:null===s||void 0===s?void 0:s.username})}),(0,I.jsxs)("div",{className:"author-content",children:[(0,I.jsx)("h3",{className:"author-name",children:null===s||void 0===s?void 0:s.fullname}),(0,I.jsx)("p",{className:"author-desc",children:null===s||void 0===s?void 0:s.description})]})]}):null},S=t(333),D=t.n(S),A=t(4403),P=t(1134),C=t(9808),O=t(7115),R=t(4695),L=t(1724),J=t(577),V=L.Ry({comment:L.Z_().required("Pls enter your comment!!!")}).required(),q=m.ZP.div(r||(r=(0,u.Z)(["\n    margin: 50px 0;\n\n    .commentAddNew{\n    display: flex;\n    column-gap: 14px;\n    text-align: center;\n    justify-content: center;\n\n        .avatar-user-comment{\n            width: 50px;\n            height: 50px;\n            border-radius: 50%;\n            object-fit: cover;\n            border: 1px solid #eee;\n\n        }\n    }\n    .form{\n        display: flex;\n        flex: 1;\n        column-gap: 10px;\n        align-items: flex-start;\n    }\n"]))),T=function(e){var n,t=e.postId,r=void 0===t?"":t,a=(0,C.a)().userInfo,s=(0,x.s0)(),i=(0,P.cI)({mode:"onChange",defaultValues:{comment:""},resolver:(0,R.X)(V)}),o=i.control,d=i.handleSubmit,u=i.reset,m=i.formState,p=m.errors,f=m.isValid;m.isSubmitting;(0,h.useEffect)((function(){var e,n=Object.values(p);n.length>0&&J.Am.error(null===(e=n[0])||void 0===e?void 0:e.message,{pauseOnHover:!1})}),[p]);return(0,I.jsxs)(q,{children:[(0,I.jsxs)("div",{className:"commentAddNew",children:[(0,I.jsx)("img",{className:"avatar-user-comment",srcSet:"/logo.png 3x",alt:"logo"}),(0,I.jsxs)("form",{className:"form",onSubmit:d((function(e){return(n=n||(0,c.Z)((0,l.Z)().mark((function e(n){var t;return(0,l.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(f){e.next=2;break}return e.abrupt("return");case 2:if(""===n.comment){e.next=17;break}return t=(0,N.hJ)(k.db,"comments"),e.prev=4,e.next=7,(0,N.ET)(t,(0,Z.Z)((0,Z.Z)({},n),{},{userId:a.uid,postId:r,createdAt:(0,N.Bt)()}));case 7:J.Am.success("Add comment successfully!!!"),u({commnet:""}),e.next=15;break;case 11:e.prev=11,e.t0=e.catch(4),J.Am.error("Creating a new comment failed!!!"),console.log("ERROR: ",e.t0);case 15:console.log(n),console.log(a);case 17:case"end":return e.stop()}}),e,null,[[4,11]])})))).apply(this,arguments)})),children:[(0,I.jsx)(O.Z,{name:"comment",type:"text",placeholder:"Enter your comment",control:o,onFocus:function(){null===a&&s("/sign-in")}}),(0,I.jsx)("button",{className:"mt-1",type:"submit",children:(0,I.jsx)(A.Ap,{})})]})]}),(0,I.jsx)(z,{})]})},U=(t(2221),m.ZP.div(a||(a=(0,u.Z)(["\n    display: flex;\n    column-gap: 10px;\n    text-align: center;\n    justify-content: center;\n    .avatar-user-comment{\n        width: 50px;\n        height: 50px;\n        border-radius: 50%;\n        object-fit: cover;\n        border: 1px solid #eee;\n\n    }\n"]))),m.ZP.div(s||(s=(0,u.Z)(["\n\n    display: flex;\n    column-gap: 16px;\n    width: 100%;\n    overflow: hidden;\n    .avatar-user-comment{\n        width: 50px;\n        height: 50px;\n        border-radius: 50%;\n        object-fit: cover;\n        border: 1px solid #eee;\n\n    }\n    .dot {\n      display: inline-block;\n      width: 4px;\n      height: 4px;\n      background-color: currentColor;\n      border-radius: 100rem;\n    }\n    .time{\n        font-size: 13px;\n    }\n"])))),M=function(e){e.userId;var n=e.content,t=void 0===n?"":n;return(0,I.jsxs)(U,{children:[(0,I.jsx)("img",{className:"avatar-user-comment",src:"https://media.istockphoto.com/id/1498838344/photo/grumpy-persian-waiting-on-food.webp?b=1&s=170667a&w=0&k=20&c=LjAK_5FedDnEnip4MwdaV32Jbp9aNix0VRk2Lb4uaag=",alt:"avatar user"}),(0,I.jsxs)("div",{className:"bg-slate-200 p-3 rounded-lg",children:[(0,I.jsxs)("div",{className:"flex items-center justify-start gap-2",children:[(0,I.jsx)("span",{className:"font-bold",children:"Celine Maris"}),(0,I.jsx)("span",{className:"dot"}),(0,I.jsx)("span",{className:"time",children:"30/7/2002"})]}),(0,I.jsx)("p",{className:"w-full",children:t||"Withurious. In a way, it matches this hypothesis that perhaps many developers are relying a lot on codecode"})]})]})},F=m.ZP.div(i||(i=(0,u.Z)(["\n    /* background-color: aqua; */\n    width: 100%;\n    margin-top: 40px;\n    display: flex;\n    flex-direction: column;\n    row-gap: 18px;\n"]))),z=function(){return(0,I.jsxs)(F,{children:[(0,I.jsx)(y.Z,{children:"B\xecnh lu\u1eadn li\xean quan"}),(0,I.jsx)(M,{}),(0,I.jsx)(M,{}),(0,I.jsx)(M,{})]})},B=m.ZP.div(o||(o=(0,u.Z)(["\n  padding-bottom: 100px;\n  .post {\n    &-header {\n      display: flex;\n      justify-content: space-between;\n      align-items: center;\n      gap: 40px;\n      margin: 40px 0;\n    }\n    &-feature {\n      width: 100%;\n      max-width: 640px;\n      height: 466px;\n      border-radius: 20px;\n    }\n    &-heading {\n      font-weight: bold;\n      font-size: 36px;\n      margin-bottom: 32px;\n    }\n    &-info {\n      flex: 1;\n    }\n    &-content {\n      max-width: 700px;\n      margin: 80px auto;\n    }\n  }\n  .author {\n    padding: 4px;\n    display: flex;\n    border-radius: 20px;\n    background-color: ",";\n    &-image {\n      width: 200px;\n      height: 200px;\n      flex-shrink: 0;\n      border-radius: inherit;\n    }\n    &-image img {\n      width: 100%;\n      height: 100%;\n      object-fit: cover;\n      border-radius: inherit;\n    }\n    &-content {\n      flex: 1;\n      padding: 20px;\n    }\n    &-name {\n      font-weight: bold;\n      margin-bottom: 10px;\n      font-size: 20px;\n    }\n    &-desc {\n      font-size: 14px;\n      line-height: 2;\n    }\n  }\n  @media screen and (max-width: 1023.98px) {\n    padding-bottom: 40px;\n    .post {\n      &-header {\n        flex-direction: column;\n      }\n      &-feature {\n        height: auto;\n      }\n      &-heading {\n        font-size: 26px;\n      }\n      &-content {\n        margin: 40px 0;\n      }\n    }\n    .author {\n      flex-direction: column;\n      &-image {\n        width: 100%;\n        height: auto;\n      }\n    }\n  }\n"])),(function(e){return e.theme.grayF3})),G=function(){var e,n,t,r,a,s,i,o=(0,x.UO)().slug,u=(0,h.useState)({}),m=(0,d.Z)(u,2),j=m[0],Z=m[1];return(0,h.useEffect)((function(){var e;!function(){(e=e||(0,c.Z)((0,l.Z)().mark((function e(){var n;return(0,l.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(o){e.next=2;break}return e.abrupt("return");case 2:n=(0,N.IO)((0,N.hJ)(k.db,"posts"),(0,N.ar)("slug","==",o)),(0,N.cf)(n,(function(e){e.forEach((function(e){e.data()&&Z(e.data())}))}));case 4:case"end":return e.stop()}}),e)})))).apply(this,arguments)}()}),[o]),(0,h.useEffect)((function(){document.body.scrollIntoView({behavior:"smooth",block:"start"})}),[o]),o?j.title?(console.log(j.id),(0,I.jsx)(B,{children:(0,I.jsx)(w.Z,{children:(0,I.jsxs)("div",{className:"container",children:[(0,I.jsxs)("div",{className:"post-header",children:[(0,I.jsx)(v.Z,{url:j.image,className:"post-feature"}),(0,I.jsxs)("div",{className:"post-info",children:[(0,I.jsx)(g.Z,{className:"mb-6",to:null===j||void 0===j||null===(e=j.category)||void 0===e?void 0:e.slug,children:null===(n=j.category)||void 0===n?void 0:n.name}),(0,I.jsx)("h1",{className:"post-heading",children:j.title}),(0,I.jsx)(b.Z,{to:D()((null===j||void 0===j||null===(t=j.user)||void 0===t?void 0:t.username)||"",{lower:!0}),date:new Date(1e3*(null===j||void 0===j||null===(r=j.createdAt)||void 0===r?void 0:r.seconds)).toLocaleDateString("vi-VI"),authorName:null===j||void 0===j||null===(a=j.user)||void 0===a?void 0:a.fullname})]})]}),(0,I.jsxs)("div",{className:"post-content",children:[(0,I.jsx)("div",{className:"entry-content",children:(0,p.ZP)(j.content||"")}),(0,I.jsx)(_,{userId:null===j||void 0===j||null===(s=j.user)||void 0===s?void 0:s.id}),(0,I.jsx)(T,{postId:j.id})]}),(0,I.jsx)(E,{categoryId:null===j||void 0===j||null===(i=j.category)||void 0===i?void 0:i.id})]})})})):null:(0,I.jsx)(f.default,{})}}}]);
//# sourceMappingURL=685.be92f0d6.chunk.js.map