"use strict";(self.webpackChunkreact_monkey_blogging_boilerplate=self.webpackChunkreact_monkey_blogging_boilerplate||[]).push([[48,206,791,64],{5432:function(e,n,r){var s,a=r(168),t=(r(2791),r(1087)),i=r(6444),l=r(9808),o=r(3585),c=r(184),d=i.ZP.div(s||(s=(0,a.Z)(["\n  background-color: white;\n  padding: 20px 40px;\n  z-index: 100;\n  border-bottom: 1px solid #eee;\n  display: flex;\n  position: sticky;\n  top: 0;\n  right: 0;\n  align-items: center;\n  justify-content: space-between;\n  .header-avatar {\n    img {\n      width: 52px;\n      height: 52px;\n      object-fit: cover;\n      border-radius: 100rem;\n      border: 1px solid #eee;\n    }\n    .userInfo{\n      display: flex;\n      align-items: center;\n      column-gap: 12px;\n\n      .infor{\n        flex: 1;\n        h3{\n          font-weight: 700;\n        }\n        p{\n          font-size: 14px;\n          color: #ccc;\n        }\n      }\n    }\n  }\n  .sidebar-logo {\n    display: flex;\n    align-items: center;\n    font-weight: 600;\n    gap: 0 20px;\n    img {\n      max-width: 40px;\n    }\n  }\n"]))),u=function(e){switch(e){case o.xZ.ADMIN:return"Admin";case o.xZ.USER:return"User";case o.xZ.MOD:return"Moderator"}};n.Z=function(){var e=(0,l.a)().userInfo;return(0,c.jsxs)(d,{children:[(0,c.jsx)(t.rU,{to:"/",children:(0,c.jsxs)("div",{className:"sidebar-logo",children:[(0,c.jsx)("img",{srcSet:"/logo.png 2x",alt:""}),(0,c.jsx)("span",{children:"Blogging App"})]})}),(0,c.jsx)("div",{className:"flex items-center gap-6",children:(0,c.jsx)("div",{className:"header-avatar",children:(0,c.jsx)(t.rU,{to:"/profile",children:(0,c.jsxs)("div",{className:"userInfo",children:[(0,c.jsx)("img",{src:null===e||void 0===e?void 0:e.avatar,alt:null===e||void 0===e?void 0:e.username}),(0,c.jsxs)("div",{className:"infor",children:[(0,c.jsx)("h3",{children:null===e||void 0===e?void 0:e.fullname}),(0,c.jsx)("p",{children:u(+(null===e||void 0===e?void 0:e.role))})]})]})})})})]})}},6064:function(e,n,r){r.r(n),r.d(n,{default:function(){return w}});var s,a,t=r(168),i=(r(2791),r(7689)),l=r(6444),o=r(5432),c=r(1087),d=r(8255),u=r(648),m=r(9808),h=r(3585),x=r(184),p=l.ZP.div(s||(s=(0,t.Z)(["\n  width: 230px;\n  background: #ffffff;\n  box-shadow: 10px 10px 20px rgba(218, 213, 213, 0.15);\n  border-radius: 12px;\n  position: sticky;\n  top: 114px;\n  right: 0;\n  .menu-item {\n    display: flex;\n    align-items: center;\n    gap: 20px;\n    padding: 14px 20px;\n    font-weight: 500;\n    color: ",";\n    margin-bottom: 20px;\n    cursor: pointer;\n    &.active,\n    &:hover {\n      background: #f1fbf7;\n      color: ",";\n    }\n  }\n"])),(function(e){return e.theme.gray80}),(function(e){return e.theme.primary})),f=[{title:"Dashboard",url:"/dashboard",icon:(0,x.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-6 w-6",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",strokeWidth:"2",children:(0,x.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M20 7l-8-4-8 4m16 0l-8 4m8-4v10l-8 4m0-10L4 7m8 4v10M4 7v10l8 4"})})},{title:"Post",url:"/manage/posts",icon:(0,x.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-6 w-6",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",strokeWidth:"2",children:(0,x.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M12 6.253v13m0-13C10.832 5.477 9.246 5 7.5 5S4.168 5.477 3 6.253v13C4.168 18.477 5.754 18 7.5 18s3.332.477 4.5 1.253m0-13C13.168 5.477 14.754 5 16.5 5c1.747 0 3.332.477 4.5 1.253v13C19.832 18.477 18.247 18 16.5 18c-1.746 0-3.332.477-4.5 1.253"})})},{title:"Category",url:"/manage/category",icon:(0,x.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-6 w-6",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",strokeWidth:"2",children:(0,x.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M5 8h14M5 8a2 2 0 110-4h14a2 2 0 110 4M5 8v10a2 2 0 002 2h10a2 2 0 002-2V8m-9 4h4"})})},{title:"User",url:"/manage/user",icon:(0,x.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-6 w-6",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",strokeWidth:"2",children:(0,x.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M12 4.354a4 4 0 110 5.292M15 21H3v-1a6 6 0 0112 0v1zm0 0h6v-1a6 6 0 00-9-5.197M13 7a4 4 0 11-8 0 4 4 0 018 0z"})})},{title:"Logout",url:"/",icon:(0,x.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-6 w-6",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",strokeWidth:"2",children:(0,x.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M17 16l4-4m0 0l-4-4m4 4H7m6 4v1a3 3 0 01-3 3H6a3 3 0 01-3-3V7a3 3 0 013-3h4a3 3 0 013 3v1"})}),onClick:function(){(0,d.w7)(u.I)}}],g=function(){var e=(0,m.a)().userInfo;return(0,x.jsx)(p,{className:"sidebar",children:f.map((function(n){return n.onClick?(0,x.jsxs)("div",{onClick:n.onClick,className:"menu-item",children:[(0,x.jsx)("span",{className:"menu-icon",children:n.icon}),(0,x.jsx)("span",{className:"menu-text",children:n.title})]},n.title):("User"===n.title&&+(null===e||void 0===e?void 0:e.role)===h.xZ.USER&&(n.url="/profile"),(0,x.jsxs)(c.OL,{to:n.url,className:"menu-item",children:[(0,x.jsx)("span",{className:"menu-icon",children:n.icon}),(0,x.jsx)("span",{className:"menu-text",children:n.title})]},n.title))}))})},v=(r(6791),r(1206)),j=l.ZP.div(a||(a=(0,t.Z)(["\n  max-width: 1600px;\n  margin: 0 auto;\n  .dashboard {\n    &-heading {\n      font-weight: bold;\n      font-size: 36px;\n      margin-bottom: 20px;\n      color: ",";\n      letter-spacing: 1px;\n    }\n    &-main {\n      display: grid;\n      grid-template-columns: 230px minmax(0, 1fr);\n      padding: 20px 20px;\n      gap: 0 40px;\n      align-items: start;\n    }\n  }\n"])),(function(e){return e.theme.primary})),w=function(e){e.children;return(0,m.a)().userInfo?(0,x.jsxs)(j,{children:[(0,x.jsx)(o.Z,{}),(0,x.jsxs)("div",{className:"dashboard-main",children:[(0,x.jsx)(g,{}),(0,x.jsx)("div",{className:"dashboard-children",children:(0,x.jsx)(i.j3,{})})]})]}):(0,x.jsx)(v.default,{})}},4520:function(e,n,r){r.d(n,{ZS:function(){return a}});r(5432),r(2791);var s=r(184),a=function(e){var n=e.title,r=void 0===n?"":n,a=e.desc,t=void 0===a?"":a,i=e.children;return(0,s.jsxs)("div",{className:"flex items-start justify-between",children:[(0,s.jsxs)("div",{children:[(0,s.jsx)("h1",{className:"dashboard-heading",children:r}),(0,s.jsx)("p",{className:"dashboard-short-desc",children:t})]}),i]})};r(6064)},3048:function(e,n,r){r.r(n);var s=r(4165),a=r(5861),t=r(2791),i=r(1134),l=r(3585),o=r(8255),c=r(648),d=r(2481),u=r(333),m=r.n(u),h=r(577),x=r(1775),p=r(4520),f=r(6562),g=r(9808),v=r(4695),j=r(1724),w=r(184),b=j.Ry({fullname:j.Z_().required("Fullname is a required field!!!"),email:j.Z_().email().required("Please enter your email!"),password:j.Z_().min(8,"Your password must be at least 8 characters").required("Please enter your password!")}).required();n.default=function(){var e,n=(0,i.cI)({mode:"onChange",defaultValues:{fullname:"",username:"",email:"",password:"",status:l.iQ.ACTIVE,role:l.xZ.USER},resolver:(0,v.X)(b)}),r=n.control,u=n.handleSubmit,j=n.watch,k=n.setValue,N=n.getValues,y=n.reset,Z=n.formState,I=Z.errors,C=Z.isValid,_=Z.isSubmitting,A=(0,f.M)(k,N),M=A.image,S=A.progress,E=A.handleResetImage,L=A.handleSelectImage,U=A.handleDeleteImage,B=j("status"),D=j("role");(0,t.useEffect)((function(){var e,n=Object.values(I);n.length>0&&h.Am.error(null===(e=n[0])||void 0===e?void 0:e.message,{pauseOnHover:!1})}),[I]);return+(0,g.a)().userInfo.role!==l.xZ.ADMIN?null:(0,w.jsxs)("div",{children:[(0,w.jsx)(p.ZS,{title:"New user",desc:"Add new user to system"}),(0,w.jsxs)("form",{onSubmit:u((function(n){return(e=e||(0,a.Z)((0,s.Z)().mark((function e(n){return(0,s.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(C){e.next=2;break}return e.abrupt("return");case 2:return e.prev=2,e.next=5,(0,o.Xb)(c.I,n.email,n.password);case 5:return e.next=7,(0,d.ET)((0,d.hJ)(c.db,"users"),{fullname:n.fullname,username:m()(n.username||n.fullname,{lower:!0,replacement:" ",trim:!0}),avatar:M,email:n.email,password:n.password,status:+n.status,role:+n.role,createdAt:(0,d.Bt)()});case 7:h.Am.success("Create new user successfully!!!"),E(),y({fullname:"",username:"",email:"",password:"",status:l.iQ.ACTIVE,role:l.xZ.USER}),e.next=16;break;case 12:e.prev=12,e.t0=e.catch(2),h.Am.error("Create new user failed!!!"),console.log(e.t0);case 16:case"end":return e.stop()}}),e,null,[[2,12]])})))).apply(this,arguments)})),children:[(0,w.jsx)("div",{className:"w-[200px] h-[200px] mx-auto rounded-full mb-10",children:(0,w.jsx)(x.Ur,{onChange:L,handleDeleteImage:U,image:M,progress:S,className:"!rounded-full h-full"})}),(0,w.jsxs)("div",{className:"form-layout",children:[(0,w.jsxs)(x.gN,{children:[(0,w.jsx)(x.__,{children:"Fullname"}),(0,w.jsx)(x.II,{name:"fullname",placeholder:"Enter your fullname",control:r})]}),(0,w.jsxs)(x.gN,{children:[(0,w.jsx)(x.__,{children:"Username"}),(0,w.jsx)(x.II,{name:"username",placeholder:"Enter your username",control:r})]})]}),(0,w.jsxs)("div",{className:"form-layout",children:[(0,w.jsxs)(x.gN,{children:[(0,w.jsx)(x.__,{children:"Email"}),(0,w.jsx)(x.II,{name:"email",placeholder:"Enter your email",control:r,type:"email"})]}),(0,w.jsxs)(x.gN,{children:[(0,w.jsx)(x.__,{children:"Password"}),(0,w.jsx)(x.II,{name:"password",placeholder:"Enter your password",control:r,type:"password"})]})]}),(0,w.jsxs)("div",{className:"form-layout",children:[(0,w.jsxs)(x.gN,{children:[(0,w.jsx)(x.__,{children:"Status"}),(0,w.jsxs)(x.YU,{children:[(0,w.jsx)(x.Y8,{name:"status",control:r,checked:+B===l.iQ.ACTIVE,value:l.iQ.ACTIVE,children:"Active"}),(0,w.jsx)(x.Y8,{name:"status",control:r,checked:+B===l.iQ.PENDING,value:l.iQ.PENDING,children:"Pending"}),(0,w.jsx)(x.Y8,{name:"status",control:r,checked:+B===l.iQ.BAN,value:l.iQ.BAN,children:"Banned"})]})]}),(0,w.jsxs)(x.gN,{children:[(0,w.jsx)(x.__,{children:"Role"}),(0,w.jsxs)(x.YU,{children:[(0,w.jsx)(x.Y8,{name:"role",control:r,checked:+D===l.xZ.ADMIN,value:l.xZ.ADMIN,children:"Admin"}),(0,w.jsx)(x.Y8,{name:"role",control:r,checked:+D===l.xZ.MOD,value:l.xZ.MOD,children:"Moderator"}),(0,w.jsx)(x.Y8,{name:"role",control:r,checked:+D===l.xZ.USER,value:l.xZ.USER,children:"User"})]})]})]}),(0,w.jsx)(x.zx,{kind:"primary",type:"submit",className:"mx-auto w-[200px]",isLoading:_,disabled:_,children:"Add new user"})]})]})}},6562:function(e,n,r){r.d(n,{M:function(){return i}});var s=r(9439),a=r(276),t=r(2791);function i(e,n){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null,i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:null,l=(0,t.useState)(""),o=(0,s.Z)(l,2),c=o[0],d=o[1],u=(0,t.useState)(0),m=(0,s.Z)(u,2),h=m[0],x=m[1],p=(0,a.cF)();if(e&&n){var f=function(){d(null),x(0)};return{image:c,progress:h,setImage:d,handleResetImage:f,handleSelectImage:function(n){var r=n.target.files[0];r&&(e("image_name",r.name),function(e){var n=(0,a.iH)(p,"images/"+e.name),r=(0,a.B0)(n,e);r.on("state_changed",(function(e){var n=e.bytesTransferred/e.totalBytes*100;x(n)}),(function(e){console.log("ERROR: ",e)}),(function(){(0,a.Jt)(r.snapshot.ref).then((function(e){d(e)}))}))}(r))},handleDeleteImage:function(){var e=(0,a.iH)(p,"images/"+r||0);(0,a.oq)(e).then((function(){f(),i&&i()})).catch((function(e){console.log("Can not delete image: ",e)}))}}}}},1206:function(e,n,r){r.r(n);var s,a=r(168),t=(r(2791),r(1775)),i=r(6444),l=r(184),o=i.ZP.div(s||(s=(0,a.Z)(["\n\n"])));n.default=function(){return(0,l.jsx)(o,{children:(0,l.jsxs)(t.Ar,{children:[(0,l.jsx)(t.FS,{}),(0,l.jsx)(t.BZ,{}),(0,l.jsx)(t.Wp,{})]})})}},6791:function(e,n,r){r.r(n);var s,a=r(168),t=(r(2791),r(1087)),i=r(6444),l=r(184),o=i.ZP.div(s||(s=(0,a.Z)(["\n    height: 100vh;\n    display: flex;\n    align-items: center;\n    justify-content: center;\n    flex-direction: column;\n    row-gap: 40px;\n    .logo{\n        display: inline-block;\n    }\n    .heading{\n        font-size: 30px;\n        font-weight: 600;\n    }\n    .btn-back{\n        display: inline-block;\n        color: #fff;\n        border-radius: 8px;\n        padding: 15px 30px;\n        cursor: pointer;\n        background-color: ",";\n        font-weight: 500;\n    }\n"])),(function(e){return e.theme.primary}));n.default=function(){return(0,l.jsxs)(o,{children:[(0,l.jsx)(t.OL,{to:"/",className:"logo",children:(0,l.jsx)("img",{srcSet:"/logo.png 2x",alt:"logo"})}),(0,l.jsx)("h1",{className:"heading",children:"Oops! Page not found!"}),(0,l.jsx)(t.OL,{to:"/",className:"btn-back",children:"Back to Home"})]})}}}]);
//# sourceMappingURL=48.39b4d23d.chunk.js.map